
---

### **8. Исторический экскурс: метка `goto`**

#### **Что такое `goto`?**
- **`goto`** — оператор управления потоком, позволяющий переходить к определенной метке в коде. 
- Был популярен в ранних языках (Fortran, BASIC, C) для организации циклов и ветвлений.

#### **Почему в Python нет `goto`?**
- **Сознательное решение**: Создатели Python (Гвидо ван Россум) исключили `goto` для повышения читаемости и борьбы с "спагетти-кодом".
- **Альтернативы**:
  - **Циклы** (`for`, `while`) — для повторяющихся действий.
  - **Функции** — для организации логики.
  - **Исключения** — для обработки ошибок и нестандартных переходов.

#### **Пример на C:**
```c
#include <stdio.h>
int main() {
    int i = 0;
    loop:  // Метка
    printf("%d\n", i);
    i++;
    if (i < 5) goto loop;  // Переход к метке
    return 0;
}
```

#### **Эмуляция `goto` в Python (не рекомендуется!):**
```python
from goto import goto, label  # Сторонний модуль, не в стандартной библиотеке!

label .start
print("Hello")
goto .start
```

---

### **9. Функция `range()` в цикле `for`**

#### **Назначение `range()`**
- Генерирует **последовательность целых чисел**.
- Часто используется для:
  - Итерации по индексам коллекций.
  - Повторения блока кода заданное число раз.
  - Создания арифметических прогрессий.

#### **Синтаксис**
```python
range(stop)            # 0, 1, 2, ..., stop-1
range(start, stop)     # start, start+1, ..., stop-1
range(start, stop, step)  # start, start+step, ... (шаг может быть отрицательным)
```

#### **Примеры с циклом `for`**

1. **Повторение N раз**:
```python
for _ in range(3):
    print("Hello!")  # Выведет 3 раза
```

2. **Итерация по индексам списка**:
```python
fruits = ["яблоко", "груша", "апельсин"]
for i in range(len(fruits)):
    print(f"{i}: {fruits[i]}")
```

3. **Генерация последовательности с шагом**:
```python
for num in range(10, 0, -1):  # Обратный отсчёт
    print(num)  # 10, 9, 8, ..., 1
```

4. **Создание диапазона для вычислений**:
```python
squares = []
for x in range(1, 6):
    squares.append(x ** 2)  # [1, 4, 9, 16, 25]
```

#### **Особенности в Python 3**
- **Ленивые вычисления**: `range()` возвращает **генератор**, а не список. Это экономит память:
  ```python
  print(range(5))        # range(0, 5)
  print(list(range(5)))  # [0, 1, 2, 3, 4]
  ```

#### **Советы**
- **Используйте `enumerate()`** вместо `range(len())` для получения индекса и элемента:
  ```python
  for idx, fruit in enumerate(fruits):
      print(f"{idx}: {fruit}")
  ```
- **Избегайте вложенных `range()`** для обхода матриц. Лучше:
  ```python
  matrix = [[1, 2], [3, 4]]
  for row in matrix:
      for num in row:
          print(num)
  ```

#### **Ошибки**
- **Путаница с границами**:
  ```python
  for i in range(5, 2):    # Ничего не выведет (start > stop, step=1)
      print(i)
  ```
  Исправление:
  ```python
  for i in range(5, 2, -1):  # 5, 4, 3
      print(i)
  ```

---

**Итог**: 
- `range()` + `for` — мощный инструмент для работы с числовыми последовательностями. 
- Всегда предпочитайте `range()` "ручному" управлению индексами через `while`.