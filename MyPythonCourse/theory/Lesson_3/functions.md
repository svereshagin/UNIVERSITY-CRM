
---

### **1 часть: Функции в Python**

---

#### **0. Актуализация: Зачем нужны функции?**
- **Повторное использование кода**: Избегаем дублирования.
- **Структурирование**: Разбиваем сложные задачи на подзадачи.
- **Читаемость**: Имя функции описывает её назначение.
- **Тестирование**: Легче отлаживать отдельные блоки.
- **Инкапсуляция**: Скрываем детали реализации.

**Пример без функции**:
```python
# Вычисление площади круга (повтор кода)
radius1 = 5
area1 = 3.14 * radius1 ** 2

radius2 = 10
area2 = 3.14 * radius2 ** 2
```

**С функцией**:
```python
def circle_area(radius):
    return 3.14 * radius ** 2

print(circle_area(5))   # 78.5
print(circle_area(10))  # 314.0
```

---

#### **1. Понятие функции и её структура**
- **Функция** — именованный блок кода, выполняющий определенную задачу.
- **Сигнатура функции**:
  - **Имя** (например, `sum`).
  - **Параметры** (входные данные).
  - **Возвращаемое значение** (результат).

**Структура**:
```python
def имя_функции(параметры):
    # Тело функции
    return результат
```

**Детерминированность**:
- **Детерминированная** функция при одинаковых входных данных всегда возвращает один результат.
- **Недетерминированная** — результат может меняться.

**Примеры**:
```python
# Детерминированная
def add(a, b):
    return a + b  # Всегда a + b

# Недетерминированная
import random
def random_number():
    return random.randint(1, 10)  # Результат меняется
```

---

#### **2. Функции стандартной библиотеки и вызов**
- **Стандартные функции** встроены в Python или доступны через модули (`math`, `os` и др.).
- **Вызов функции**: `имя_функции(аргументы)`.

**Примеры**:
```python
# Встроенные функции
print("Hello")          # Вывод на экран
length = len([1, 2, 3]) # Длина списка → 3

# Функции из модуля math
import math
root = math.sqrt(25)    # 5.0
```

**Функции vs Методы**:
```python
# Функция sorted() возвращает новый список
nums = [3, 1, 2]
sorted_nums = sorted(nums)  # [1, 2, 3]

# Метод list.sort() изменяет исходный список
nums.sort()  # Теперь nums = [1, 2, 3]
```

---

#### **3. Параметры функции**
- **Параметры** — переменные, принимающие значения при вызове.
- **Типы параметров**:
  - **Позиционные**: Порядок имеет значение.
  - **Именованные**: Указываются по имени.
  - **Со значениями по умолчанию**: Необязательные параметры.

**Пример**:
```python
def greet(name, message="Hello"):
    print(f"{message}, {name}!")

greet("Анна")                 # Hello, Анна!
greet("Петр", "Привет")       # Привет, Петр! (позиционные)
greet(message="Hi", name="Max")  # Hi, Max! (именованные)
```

**Правила**:
- Сначала обязательные параметры, затем с значениями по умолчанию.
- После `*` все параметры должны быть именованными:
  ```python
  def func(a, b, *, c, d):
      pass
  func(1, 2, c=3, d=4)  # Верно
  func(1, 2, 3, 4)      # Ошибка
  ```

---

#### **4. Оператор `return`**
- Завершает выполнение функции и возвращает значение.
- Если `return` отсутствует, функция возвращает `None`.

**Примеры**:
```python
def is_even(n):
    return n % 2 == 0  # Возвращает True/False

print(is_even(4))  # True

def no_return():
    print("Hello")  # Функция возвращает None

result = no_return()  # Hello
print(result)         # None
```

**Возврат нескольких значений** (через кортеж):
```python
def min_max(numbers):
    return min(numbers), max(numbers)

values = [5, 2, 8]
print(min_max(values))  # (2, 8)
```

---

#### **5. Функция как тип, параметр и результат**
- В Python функции — **объекты первого класса**:
  - Могут быть присвоены переменным.
  - Переданы как аргументы.
  - Возвращены из других функций.

**Примеры**:

1. **Функция как аргумент**:
```python
def apply(func, x):
    return func(x)  # Вызываем переданную функцию

def square(n):
    return n ** 2

print(apply(square, 5))  # 25
```

2. **Функция как результат**:
```python
def create_multiplier(factor):
    def multiplier(x):
        return x * factor
    return multiplier

double = create_multiplier(2)
print(double(10))  # 20
```

3. **Функция как объект**:
```python
def say_hello():
    print("Hello")

greet = say_hello  # Присваиваем функцию переменной
greet()            # Hello
```

**Применение**:
- **Декораторы**: Модифицируют поведение функций.
- **Обратные вызовы** (callbacks): Например, обработчики событий.
- **Функции высшего порядка**: `map()`, `filter()`, `reduce()`.

```python
# Использование map()
numbers = [1, 2, 3]
squared = list(map(lambda x: x ** 2, numbers))  # [1, 4, 9]
```

---

**Итог**:  
Функции — ключевой элемент структурирования кода в Python. Они позволяют создавать гибкие, переиспользуемые и легко тестируемые программы. Понимание работы с параметрами, возвращаемыми значениями и функциями как объектами открывает путь к продвинутым техникам (декораторы, замыкания, функциональное программирование).